//////////////////////////////////////////////////////////////////////////
//    File        	: Skeleton.h
//    Created By    : Jack Spink
//    Created On 	: [30/01/2020]
//////////////////////////////////////////////////////////////////////////

#pragma once

//////////////////////////////////////////////////////////////////////////

#include "Core/Types.h"

//////////////////////////////////////////////////////////////////////////

class Joint
{
public:
    inline const bool IsRoot() const { return parent == nullptr; }

public:
    fmat4 CalculateFullTransform() const;

public:
    Joint* parent;
    fmat4 transform;
};

//////////////////////////////////////////////////////////////////////////

class Skeleton
{
public:
    Joint* FindJoint(const std::string& name);
    const Joint* FindJoint(const std::string& name) const;

private:
    HashMap<std::string, Joint*> joints;
};

//////////////////////////////////////////////////////////////////////////
